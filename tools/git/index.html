
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="V1nci 的笔记本">
      
      
      
        <link rel="canonical" href="https://note.v1nci.xyz/tools/git/">
      
      
        <link rel="prev" href="../monitoring/">
      
      
        <link rel="next" href="../package/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Git - V1nci 的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../css/custom_color.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#git" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="V1nci 的笔记本" class="md-header__button md-logo" aria-label="V1nci 的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 3v2h3c1.32 0 2.41.83 2.82 2H6v2h8v1h-2c-2.75 0-5 2.25-5 5s2.25 5 5 5c.77 0 1.45-.27 2-.7V21h2v-4h-2c-.45.62-1.17 1-2 1-1.67 0-3-1.33-3-3s1.33-3 3-3h4V9h2V7h-2.1c-.47-2.28-2.49-4-4.9-4z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            V1nci 的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/coldinke/notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    coldinke/notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cs/" class="md-tabs__link">
          
  
    
  
  CS

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Tools

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="V1nci 的笔记本" class="md-nav__button md-logo" aria-label="V1nci 的笔记本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 3v2h3c1.32 0 2.41.83 2.82 2H6v2h8v1h-2c-2.75 0-5 2.25-5 5s2.25 5 5 5c.77 0 1.45-.27 2-.7V21h2v-4h-2c-.45.62-1.17 1-2 1-1.67 0-3-1.33-3-3s1.33-3 3-3h4V9h2V7h-2.1c-.47-2.28-2.49-4-4.9-4z"/></svg>

    </a>
    V1nci 的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/coldinke/notebook/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    coldinke/notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cs/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    CS
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            CS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux 常用工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Linux 常用工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文件相关
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网络相关
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    系统监测
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    开发中常用工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            开发中常用工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Git
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#git-cheatsheet" class="md-nav__link">
    <span class="md-ellipsis">
      Git Cheatsheet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git Cheatsheet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    <span class="md-ellipsis">
      Basics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branching-and-merging" class="md-nav__link">
    <span class="md-ellipsis">
      Branching and merging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remotes" class="md-nav__link">
    <span class="md-ellipsis">
      Remotes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undo" class="md-nav__link">
    <span class="md-ellipsis">
      Undo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-git" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Git
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-git-or-vcss-version-control-systems" class="md-nav__link">
    <span class="md-ellipsis">
      What is Git or VCSs (Version control systems) ?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What is Git or VCSs (Version control systems) ?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gits-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Git's data model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git's data model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshots
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modeling-history-relating-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Modeling history: relating snapshots
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-model-as-pseudocode" class="md-nav__link">
    <span class="md-ellipsis">
      Date model, as pseudocode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects-and-content-addressing" class="md-nav__link">
    <span class="md-ellipsis">
      Objects and content-addressing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-area" class="md-nav__link">
    <span class="md-ellipsis">
      Staging area
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-content" class="md-nav__link">
    <span class="md-ellipsis">
      More content ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    包管理器
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            包管理器
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    汇总
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#git-cheatsheet" class="md-nav__link">
    <span class="md-ellipsis">
      Git Cheatsheet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git Cheatsheet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    <span class="md-ellipsis">
      Basics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#branching-and-merging" class="md-nav__link">
    <span class="md-ellipsis">
      Branching and merging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remotes" class="md-nav__link">
    <span class="md-ellipsis">
      Remotes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#undo" class="md-nav__link">
    <span class="md-ellipsis">
      Undo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-git" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Git
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-git-or-vcss-version-control-systems" class="md-nav__link">
    <span class="md-ellipsis">
      What is Git or VCSs (Version control systems) ?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What is Git or VCSs (Version control systems) ?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gits-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Git's data model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git's data model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshots
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modeling-history-relating-snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Modeling history: relating snapshots
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-model-as-pseudocode" class="md-nav__link">
    <span class="md-ellipsis">
      Date model, as pseudocode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects-and-content-addressing" class="md-nav__link">
    <span class="md-ellipsis">
      Objects and content-addressing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-area" class="md-nav__link">
    <span class="md-ellipsis">
      Staging area
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-content" class="md-nav__link">
    <span class="md-ellipsis">
      More content ...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="git">Git 学习笔记</h1>
<h2 id="git-cheatsheet">Git Cheatsheet</h2>
<h3 id="basics">Basics</h3>
<ul>
<li><code>git help &lt;command&gt;</code>: get help for a git command</li>
<li><code>git init</code>: creates a new git repo, with data stored in the <code>.git</code> directory</li>
<li><code>git status</code>: tells you what’s going on</li>
<li><code>git add &lt;filename&gt;</code>: adds files to staging area</li>
<li><code>git commit</code>: creates a new commit<ul>
<li>Write <a href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">good commit messages</a>!</li>
<li>Even more reasons to write <a href="https://chris.beams.io/posts/git-commit/">good commit messages</a>!</li>
</ul>
</li>
<li><code>git log</code>: shows a flattened log of history</li>
<li><code>git log --all --graph --decorate</code>: visualizes history as a DAG</li>
<li><code>git diff &lt;filename&gt;</code>: show changes you made relative to the staging area</li>
<li><code>git diff &lt;revision&gt; &lt;filename&gt;</code>: shows differences in a file between snapshots</li>
<li><code>git checkout &lt;revision&gt;</code>: updates HEAD and current branch</li>
</ul>
<h3 id="branching-and-merging">Branching and merging</h3>
<ul>
<li><code>git branch</code>: shows branches</li>
<li><code>git branch &lt;name&gt;</code>: creates a branch</li>
<li><code>git checkout - b &lt;name&gt;</code>: creates a branch and switches to it <ul>
<li>same as <code>git branch &lt;name&gt;; git checkout &lt;name&gt;</code></li>
</ul>
</li>
<li><code>git merge &lt;revision&gt;</code>: merges into current branch</li>
<li><code>git mergetool</code>: use a fancy tool to help resolve merge conflicts</li>
<li><code>git rebase</code>: rebase set of patches onto a new base</li>
</ul>
<h3 id="remotes">Remotes</h3>
<ul>
<li><code>git remote</code>: list remotes</li>
<li><code>git remote add &lt;name&gt; &lt;url&gt;</code>: add a remote</li>
<li><code>git push &lt;remote&gt; &lt;local branch&gt;:&lt;remote branch&gt;</code>: send objects to remote, and update remote reference</li>
<li><code>git branch --set-upstream-to=&lt;remote&gt;/&lt;remote branch&gt;</code>: set up correspondence between local and remote branch</li>
<li><code>git fetch</code>: retrieve objects/references from a remote</li>
<li><code>git pull</code>: same as <code>git fetch; git merge</code></li>
<li><code>git clone</code>: download repository from remote</li>
</ul>
<h3 id="undo">Undo</h3>
<ul>
<li><code>git commit --amend</code>: edit commit's contents/message</li>
<li><code>git reset HEAD &lt;file&gt;</code>: unstage a file</li>
<li><code>git checkout -- &lt;file&gt;</code>: discard changes</li>
</ul>
<h3 id="advanced-git">Advanced Git</h3>
<ul>
<li><code>git config</code>: Git is  <a href="https://git-scm.com/docs/git-config">highly customizable</a></li>
<li><code>git clone --depth=1</code>: shallow clone, without entire version history </li>
<li><code>git add -p</code>: interactive staging</li>
<li><code>git rebase -i</code>: interactive rebasing</li>
<li><code>git blame</code>: show who last which line</li>
<li><code>git stash</code>: temporarily remove modifications to working directory</li>
<li><code>git biset</code>: binary search history(e.g. for regressions)</li>
<li><code>.gitignore</code>: <a href="https://git-scm.com/docs/gitignore">specify</a> intentionally untracked files to ignore</li>
</ul>
<h2 id="what-is-git-or-vcss-version-control-systems">What is Git or VCSs (Version control systems) ?</h2>
<blockquote>
<p>Version control systems (VCSs) are tools used to track changes to source code (or other collections of files and folders).
      -- missing-semester</p>
</blockquote>
<h3 id="gits-data-model">Git's data model</h3>
<h4 id="snapshots">Snapshots</h4>
<p>In Git terminology, a file is called a <strong>"blob"</strong>, and it's just a bunch of bytes. A directory is called a <strong>"tree"</strong>, and it's maps names to blobs or trees (so directories can contain other directories). A snapshot is the top-level tree is being tracked. </p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>&lt;root&gt;<span class="w"> </span><span class="o">(</span>tree<span class="o">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="p">|</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>+-<span class="w"> </span>foo<span class="w"> </span><span class="o">(</span>tree<span class="o">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">|</span><span class="w">  </span><span class="p">|</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">|</span><span class="w">  </span>+<span class="w"> </span>bar.txt<span class="w"> </span><span class="o">(</span>blob,<span class="w"> </span><span class="nv">contents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span><span class="o">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">|</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>+-<span class="w"> </span>baz.txt<span class="w"> </span><span class="o">(</span>blob,<span class="w"> </span><span class="nv">contents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;git is wonderful&quot;</span><span class="o">)</span>
</code></pre></div></p>
<p>The top-level tree contains two elements,  a tree "foo" (that itself contains one element, a blob "bar.txt"), and a blob "baz.txt"</p>
<h3 id="modeling-history-relating-snapshots">Modeling history: relating snapshots</h3>
<p>How should a version control system relate snapshots? </p>
<p>One simple model would be to have a linear history. A history would be a list of snapshots in time-order. </p>
<p>In Git, a history is a directed acyclic graph (DAG) of snapshots.  All this means is that each snapshot in Git refers to a set of "parents", the snapshots that preceded it. It's set of parent rather than single parent (as would be the case in a linear history) because a snapshot might descend from multiple parents, for example, due to combining (merging) two parallel branches of development. </p>
<p>Git calls these snapshots "commit"s. Visualizing a commit history might look something like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>o<span class="w"> </span>&lt;--<span class="w"> </span>o<span class="w"> </span>&lt;--<span class="w"> </span>o<span class="w"> </span>&lt;--<span class="w"> </span>o
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">            </span>^
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">             </span><span class="se">\</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">              </span>---<span class="w"> </span>o<span class="w"> </span>&lt;--<span class="w"> </span>o
</code></pre></div>
<p>In the ASCII art above, the <code>o</code>s correspond to individual commits (snapshots). The arrows point to the parent of each commit (it's a "comes before" relation, not "comes after"). After third commit, the history branches into two separate branches. This might correspond to, for example, two separate features being developed in parallel, independently from each other. In the future, these branches may be merged to create a new snapshot that incorporates both of the features, producing a new history that looks like this, with newly created merge commit shown in bold:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>o &lt;-- o &lt;-- o &lt;-- o &lt;---- o
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>            ^            /
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>             \          v
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>              --- o &lt;-- o
</code></pre></div>
<p>Commits in Git are <strong>immutable</strong>. This doesn't mean that mistakes can't be corrected, however; it's just that "edits" to the commit history are <strong>actually creating entirely new commits</strong>, and references are updated to point to the new ones.</p>
<h3 id="date-model-as-pseudocode">Date model, as pseudocode</h3>
<p>It may be instructive to see Git's data model written down in pseudocode:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>// a file is a bunch of bytes
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>type blob = array&lt;byte&gt;
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>// a directory contains named files and directories
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>type tree = map&lt;string, tree | blob&gt;
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>// a commit has parents, metdata, and the top-level tree
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>type commit = struct {
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    parents: array&lt;commit&gt;
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    author: string
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    message: string
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    snapshot: tree
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>}
</code></pre></div>
<h3 id="objects-and-content-addressing">Objects and content-addressing</h3>
<p>An "object" is a blob, tree, or commit:</p>
<p><code>type object = blob | tree | commit</code></p>
<p>In Git data store, all object are content-addressed by their <a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1 hash</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">objects</span> <span class="o">=</span> <span class="nb">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="nb">object</span><span class="o">&gt;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">sha1</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="n">objects</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">object</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="k">return</span> <span class="n">objects</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span>
</code></pre></div>
<p>Blobs, trees, and commits are unified in this way: they are all objects. When they reference other objects, they don't actually <em>contain</em> them in their on-disk representation, but have a reference to them by their hash.</p>
<p>For example, the tree for the example directory structure <a href="https://missing.csail.mit.edu/2020/version-control/#snapshots">above</a> (visualized using <code>git cat-file -p 698281bc680d1995c5f4caaf3359721a5a58d48d</code>), looks like this:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="m">100644</span><span class="w"> </span>blob<span class="w"> </span>4448adbf7ecd394f42ae135bbeed9676e894af85<span class="w">    </span>baz.txt
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="m">040000</span><span class="w"> </span>tree<span class="w"> </span>c68d233a33c5c06e0340e4c224f0afca87c8ce87<span class="w">    </span>foo
</code></pre></div></p>
<p>The tree itself contains pointers to its contents, <code>baz.txt</code> (a blob) and <code>foo</code> (a tree). If we look at the contents addressed by the hash corresponding to baz.txt with <code>git cat-file -p HASHCODE</code></p>
<h3 id="references">References</h3>
<p>Because humans are't good at remembering strings of 40 hexadecimal characters.</p>
<p>Git's solution to this problem is human-readable names for SHA-1 hashes, called "references". References are pointers to commits, Unlike objects, which are immutable, references are mutable (can be updated to point to a new commit). For example, the <code>master</code> reference usually points to the latest commit in the main branch of development.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>references = map&lt;string, string&gt;
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>def update_reference(name, id):
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    references[name] = id
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>def read_reference(name):
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    return references[name]
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>def load_reference(name_or_id):
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    if name_or_id in references:
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>        return load(references[name_or_id])
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>    else:
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>        return load(name_or_id)
</code></pre></div>
<p>With this, Git can use human-readable names like "master" to refer to a particular snapshot in the history, instead of a long hexadecimal string.</p>
<p>One detail is that we often want a notion of "where we currently are" in the history, so that when we take a new snapshot, we know what it is relative to (how we set the <code>parents</code> field of the commit). In Git, that "where we currently are" is a special reference called "HEAD".</p>
<h3 id="staging-area">Staging area</h3>
<p>This is another concept that's orthogonal to the data model, but it's a part of the interface to create commits.</p>
<p>One way you might imagine implementing snapshotting as described above is to have a "create snapshot" command that creates a new snapshot based on the <em>current</em> state of the working directory. Some version control tools work like this, but not Git. We want clean snapshots, and it might not always be ideal to make a snapshot from the current state.</p>
<p>Git accommodates such scenarios by allowing you to specify which modifications should be included in the next snapshot through a mechanism called the "<em>staging area</em>".</p>
<h2 id="more-content">More content ...</h2>
<ul>
<li>
<p>git bisect</p>
</li>
<li>
<p>git rebase [-i]</p>
</li>
<li>
<p>git diff</p>
</li>
</ul>
<h2 id="reference">Reference</h2>
<p><a href="https://missing.csail.mit.edu/2020/version-control/">https://missing.csail.mit.edu/2020/version-control/</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 <a href="https://github.com/coldinke" target="_blank" rel="noopener">V1nci</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>